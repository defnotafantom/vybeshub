import{r as n,a as en,u as tn,j as D,A as nn,E as rn,s as nt}from"./index-02e154e8.js";const mt="carousel",gt="controller",on="navigation",sn="no-scroll",Be="portal",cn="root",vt="toolbar",Te="loading",Ae="error",De="complete",ln="placeholder",an=e=>`active-slide-${e}`,Et="flex_center",un="no_scroll",xt="no_scroll_padding",He="slide",dn="slide_wrapper",ee="prev",te="next",rt="swipe",ie="close",bt="onPointerDown",_t="onPointerMove",Pt="onPointerUp",Ct="onPointerLeave",wt="onPointerCancel",Nt="onKeyDown",fn="onKeyUp",Lt="onWheel",hn="Escape",pn="ArrowLeft",mn="ArrowRight",gn="button",Ue="icon",yt="contain",ot="cover",vn="Unknown action type",St="yarl__";function q(...e){return[...e].filter(Boolean).join(" ")}function S(e){return`${St}${e}`}function B(e){return`--${St}${e}`}function fe(e,t){return`${e}${t?`_${t}`:""}`}function Xe(e){return t=>fe(e,t)}function ce(e,t){var o;return(o=e==null?void 0:e[t])!==null&&o!==void 0?o:t}function En(e,t,o){return ce(e,"{index} of {total}").replace(/\{index}/g,`${Ke(o,t.length)+1}`).replace(/\{total}/g,`${t.length}`)}function It(...e){return()=>{e.forEach(t=>{t()})}}function Q(e,t,o){return()=>{const r=n.useContext(o);if(!r)throw new Error(`${e} must be used within a ${t}.Provider`);return r}}function Ot(){return typeof window<"u"}function xn(e,t=0){const o=10**t;return Math.round((e+Number.EPSILON)*o)/o}function Rt(e){return e.type===void 0||e.type==="image"}function bn(e,t){return e.imageFit===ot||e.imageFit!==yt&&t===ot}function Ce(e){return typeof e=="string"?Number.parseInt(e,10):e}function Pe(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Ce(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function _n(e,t){const o=Pe(t),r=o.percent!==void 0?e.width/100*o.percent:o.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}function Ke(e,t){return t>0?(e%t+t)%t:0}function Mt(e){return e.length>0}function Tt(e,t){return e[Ke(t,e.length)]}function Ve(e,t){return Mt(e)?Tt(e,t):void 0}function Pn(e){return Rt(e)?e.src:void 0}function Cn(e,t,o=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),o))}const wn=Number(n.version.split(".")[0])>=19;function Nn(e){return{inert:wn?e:e?"":void 0}}function Ln(e){e.scrollTop}const Fe={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[ie]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:yt,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function ne(e,t){return{name:e,component:t}}function $(e,t){return{module:e,children:t}}function At(e,t,o){return e.module.name===t?o(e):e.children?[$(e.module,e.children.flatMap(r=>{var s;return(s=At(r,t,o))!==null&&s!==void 0?s:[]}))]:[e]}function se(e,t,o){return e.flatMap(r=>{var s;return(s=At(r,t,o))!==null&&s!==void 0?s:[]})}function yn(e,t=[],o=[]){let r=e;const s=p=>{const m=[...r];for(;m.length>0;){const u=m.pop();if((u==null?void 0:u.module.name)===p)return!0;u!=null&&u.children&&m.push(...u.children)}return!1},i=(p,m)=>{if(p===""){r=[$(m,r)];return}r=se(r,p,u=>[$(m,[u])])},c=(p,m)=>{r=se(r,p,u=>[$(u.module,[$(m,u.children)])])},l=(p,m,u)=>{r=se(r,p,P=>{var b;return[$(P.module,[...u?[$(m)]:[],...(b=P.children)!==null&&b!==void 0?b:[],...u?[]:[$(m)]])]})},d=(p,m,u)=>{r=se(r,p,P=>[...u?[$(m)]:[],P,...u?[]:[$(m)]])},f=p=>{c(gt,p)},v=(p,m)=>{r=se(r,p,u=>[$(m,u.children)])},h=p=>{r=se(r,p,m=>m.children)},g=p=>{o.push(p)};return t.forEach(p=>{p({contains:s,addParent:i,append:c,addChild:l,addSibling:d,addModule:f,replace:v,remove:h,augment:g})}),{config:r,augmentation:p=>o.reduce((m,u)=>u(m),p)}}const Dt=n.createContext(null),kt=Q("useA11yContext","A11yContext",Dt);function Sn({children:e}){const[t,o]=n.useState(!1),[r,s]=n.useState(!1),i=n.useMemo(()=>({focusWithin:t,trackFocusWithin:(l,d)=>{const f=v=>h=>{var g;h.currentTarget.contains(h.relatedTarget)||o(v),(g=v?l:d)===null||g===void 0||g(h)};return{onFocus:f(!0),onBlur:f(!1)}},autoPlaying:r,setAutoPlaying:s}),[t,r]);return n.createElement(Dt.Provider,{value:i},e)}const Wt=n.createContext(null),ze=Q("useDocument","DocumentContext",Wt);function In({nodeRef:e,children:t}){const o=n.useMemo(()=>{const r=i=>{var c;return((c=i||e.current)===null||c===void 0?void 0:c.ownerDocument)||document};return{getOwnerDocument:r,getOwnerWindow:i=>{var c;return((c=r(i))===null||c===void 0?void 0:c.defaultView)||window}}},[e]);return n.createElement(Wt.Provider,{value:o},t)}const $t=n.createContext(null),we=Q("useEvents","EventsContext",$t);function On({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(r=>delete t[r])},[t]);const o=n.useMemo(()=>{const r=(c,l)=>{var d;(d=t[c])===null||d===void 0||d.splice(0,t[c].length,...t[c].filter(f=>f!==l))};return{publish:(...[c,l])=>{var d;(d=t[c])===null||d===void 0||d.forEach(f=>f(l))},subscribe:(c,l)=>(t[c]||(t[c]=[]),t[c].push(l),()=>r(c,l)),unsubscribe:r}},[t]);return n.createElement($t.Provider,{value:o},e)}const Ut=n.createContext(null),he=Q("useLightboxProps","LightboxPropsContext",Ut);function Rn({children:e,...t}){return n.createElement(Ut.Provider,{value:t},e)}const Vt=n.createContext(null),Ne=Q("useLightboxState","LightboxStateContext",Vt),Ft=n.createContext(null),Mn=Q("useLightboxDispatch","LightboxDispatchContext",Ft);function Tn(e,t){switch(t.type){case"swipe":{const{slides:o}=e,r=(t==null?void 0:t.increment)||0,s=e.globalIndex+r,i=Ke(s,o.length),c=Ve(o,i),l=r||t.duration!==void 0?{increment:r,duration:t.duration,easing:t.easing}:void 0;return{slides:o,currentIndex:i,globalIndex:s,currentSlide:c,animation:l}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:Ve(t.slides,t.index)}:e;default:throw new Error(vn)}}function An({slides:e,index:t,children:o}){const[r,s]=n.useReducer(Tn,{slides:e,currentIndex:t,globalIndex:t,currentSlide:Ve(e,t)});n.useEffect(()=>{s({type:"update",slides:e,index:t})},[e,t]);const i=n.useMemo(()=>({...r,state:r,dispatch:s}),[r,s]);return n.createElement(Ft.Provider,{value:s},n.createElement(Vt.Provider,{value:i},o))}const jt=n.createContext(null),Le=Q("useTimeouts","TimeoutsContext",jt);function Dn({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(r=>window.clearTimeout(r)),t.splice(0,t.length)},[t]);const o=n.useMemo(()=>{const r=c=>{t.splice(0,t.length,...t.filter(l=>l!==c))};return{setTimeout:(c,l)=>{const d=window.setTimeout(()=>{r(d),c()},l);return t.push(d),d},clearTimeout:c=>{c!==void 0&&(r(c),window.clearTimeout(c))}}},[t]);return n.createElement(jt.Provider,{value:o},e)}const Bt=n.forwardRef(function({label:t,className:o,icon:r,renderIcon:s,onClick:i,style:c,...l},d){const{styles:f,labels:v}=he(),h=ce(v,t);return n.createElement("button",{ref:d,type:"button",title:h,"aria-label":h,className:q(S(gn),o),onClick:i,style:{...c,...f.button},...l},s?s():n.createElement(r,{className:S(Ue),style:f.icon}))});function kn(e,t){const o=r=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},t);return o.displayName=e,o}function pe(e,t){return kn(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}const Wn=pe("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),$n=pe("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Un=pe("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Vn=pe("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,o)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/o.length*(t+1),transform:`rotate(${360/o.length*t}, 12, 12)`})))),Fn=pe("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),me=Ot()?n.useLayoutEffect:n.useEffect;function Ht(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var o,r;const s=(o=window.matchMedia)===null||o===void 0?void 0:o.call(window,"(prefers-reduced-motion: reduce)");t(s==null?void 0:s.matches);const i=c=>t(c.matches);return(r=s==null?void 0:s.addEventListener)===null||r===void 0||r.call(s,"change",i),()=>{var c;return(c=s==null?void 0:s.removeEventListener)===null||c===void 0?void 0:c.call(s,"change",i)}},[]),e}function jn(e){let t=0,o=0,r=0;const i=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(i){const c=i[1].split(",").map(Ce);c.length===6?(t=c[4],o=c[5]):c.length===16&&(t=c[12],o=c[13],r=c[14])}return{x:t,y:o,z:r}}function st(e,t){const o=n.useRef(void 0),r=n.useRef(void 0),s=Ht();return me(()=>{var i,c,l;if(e.current&&o.current!==void 0&&!s){const{keyframes:d,duration:f,easing:v,onfinish:h}=t(o.current,e.current.getBoundingClientRect(),jn(e.current))||{};if(d&&f){(i=r.current)===null||i===void 0||i.cancel(),r.current=void 0;try{r.current=(l=(c=e.current).animate)===null||l===void 0?void 0:l.call(c,d,{duration:f,easing:v})}catch(g){console.error(g)}r.current&&(r.current.onfinish=()=>{r.current=void 0,h==null||h()})}}o.current=void 0}),{prepareAnimation:i=>{o.current=i},isAnimationPlaying:()=>{var i;return((i=r.current)===null||i===void 0?void 0:i.playState)==="running"}}}function Xt(){const e=n.useRef(null),t=n.useRef(void 0),[o,r]=n.useState();return{setContainerRef:n.useCallback(i=>{e.current=i,t.current&&(t.current.disconnect(),t.current=void 0);const c=()=>{if(i){const l=window.getComputedStyle(i),d=f=>parseFloat(f)||0;r({width:Math.round(i.clientWidth-d(l.paddingLeft)-d(l.paddingRight)),height:Math.round(i.clientHeight-d(l.paddingTop)-d(l.paddingBottom))})}else r(void 0)};c(),i&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(c),t.current.observe(i))},[]),containerRef:e,containerRect:o}}function _e(){const e=n.useRef(void 0),{setTimeout:t,clearTimeout:o}=Le();return n.useCallback((r,s)=>{o(e.current),e.current=t(r,s>0?s:0)},[t,o])}function k(e){const t=n.useRef(e);return me(()=>{t.current=e}),n.useCallback((...o)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...o)},[])}function it(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function je(e,t){return n.useMemo(()=>e==null&&t==null?null:o=>{it(e,o),it(t,o)},[e,t])}function Bn(e,t=!1){const o=n.useRef(!1);me(()=>{t&&o.current&&(o.current=!1,e())},[t,e]);const r=n.useCallback(()=>{o.current=!0},[]),s=n.useCallback(()=>{o.current=!1},[]);return{onFocus:r,onBlur:s}}function Ye(){const[e,t]=n.useState(!1);return me(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Hn(){const[e]=n.useState({}),t=n.useCallback((s,i)=>{var c;(c=e[s])===null||c===void 0||c.forEach(l=>{i.isPropagationStopped()||l(i)})},[e]),o=n.useMemo(()=>({onPointerDown:s=>t(bt,s),onPointerMove:s=>t(_t,s),onPointerUp:s=>t(Pt,s),onPointerLeave:s=>t(Ct,s),onPointerCancel:s=>t(wt,s),onKeyDown:s=>t(Nt,s),onKeyUp:s=>t(fn,s),onWheel:s=>t(Lt,s)}),[t]),r=n.useCallback((s,i)=>(e[s]||(e[s]=[]),e[s].unshift(i),()=>{const c=e[s];c&&c.splice(0,c.length,...c.filter(l=>l!==i))}),[e]);return{registerSensors:o,subscribeSensors:r}}function ct(e,t){const o=n.useRef(0),r=_e(),s=k((...i)=>{o.current=Date.now(),e(i)});return n.useCallback((...i)=>{r(()=>{s(i)},t-(Date.now()-o.current))},[t,s,r])}const ke=Xe("slide"),We=Xe("slide_image");function Xn({slide:e,offset:t,render:o,rect:r,imageFit:s,imageProps:i,onClick:c,onLoad:l,onError:d,style:f}){var v,h,g,p,m,u,P,b;const[C,E]=n.useState(Te),{publish:N}=we(),{setTimeout:O}=Le(),L=n.useRef(null);n.useEffect(()=>{t===0&&N(an(C))},[t,C,N]);const _=k(y=>{("decode"in y?y.decode():Promise.resolve()).catch(()=>{}).then(()=>{y.parentNode&&(E(De),O(()=>{l==null||l(y)},0))})}),M=n.useCallback(y=>{L.current=y,y!=null&&y.complete&&_(y)},[_]),I=n.useCallback(y=>{_(y.currentTarget)},[_]),K=k(()=>{E(Ae),d==null||d()}),A=bn(e,s),F=(y,re)=>Number.isFinite(y)?y:re,x=F(Math.max(...((h=(v=e.srcSet)===null||v===void 0?void 0:v.map(y=>y.width))!==null&&h!==void 0?h:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((g=L.current)===null||g===void 0?void 0:g.naturalWidth)||0),T=F(Math.max(...((m=(p=e.srcSet)===null||p===void 0?void 0:p.map(y=>y.height))!==null&&m!==void 0?m:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((u=L.current)===null||u===void 0?void 0:u.naturalHeight)||0),w=x&&T?{maxWidth:`min(${x}px, 100%)`,maxHeight:`min(${T}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},W=(P=e.srcSet)===null||P===void 0?void 0:P.sort((y,re)=>y.width-re.width).map(y=>`${y.src} ${y.width}w`).join(", "),U=()=>r&&!A&&e.width&&e.height?r.height/e.height*e.width:Number.MAX_VALUE,J=W&&r&&Ot()?`${Math.round(Math.min(U(),r.width))}px`:void 0,{style:le,className:ye,...G}=i||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:M,onLoad:I,onError:K,onClick:c,draggable:!1,className:q(S(We()),A&&S(We("cover")),C!==De&&S(We("loading")),ye),style:{...w,...f,...le},...G,alt:(b=e.alt)!==null&&b!==void 0?b:"",sizes:J,srcSet:W,src:e.src}),C!==De&&n.createElement("div",{className:S(ke(ln))},C===Te&&(o!=null&&o.iconLoading?o.iconLoading():n.createElement(Vn,{className:q(S(Ue),S(ke(Te)))})),C===Ae&&(o!=null&&o.iconError?o.iconError():n.createElement(Fn,{className:q(S(Ue),S(ke(Ae)))}))))}const Kn=n.forwardRef(function({className:t,children:o,onFocus:r,onBlur:s,...i},c){const l=n.useRef(null),{trackFocusWithin:d}=kt();return n.createElement(In,{nodeRef:l},n.createElement("div",{ref:je(c,l),className:q(S("root"),t),...d(r,s),...i},o))});var V;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(V||(V={}));function zn(e,t,o,r,s){n.useEffect(()=>s?()=>{}:It(e(bt,t),e(_t,o),e(Pt,r),e(Ct,r),e(wt,r)),[e,t,o,r,s])}var X;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(X||(X={}));const $e=30;function Yn({disableSwipeNavigation:e,closeOnBackdropClick:t},o,r,s,i,c,l,d,f,v,h,g,p,m,u,P){const b=n.useRef(0),C=n.useRef([]),E=n.useRef(void 0),N=n.useRef(0),O=n.useRef(X.NONE),L=n.useCallback(x=>{E.current===x.pointerId&&(E.current=void 0,O.current=X.NONE);const T=C.current;T.splice(0,T.length,...T.filter(w=>w.pointerId!==x.pointerId))},[]),_=n.useCallback(x=>{L(x),x.persist(),C.current.push(x)},[L]),M=n.useCallback(x=>C.current.find(({pointerId:T})=>x.pointerId===T),[]),I=k(x=>{_(x)}),K=(x,T)=>h&&x>T||v&&x<-T,A=k(x=>{const T=M(x);if(T)if(E.current===x.pointerId){const w=Date.now()-N.current,W=b.current;O.current===X.SWIPE?Math.abs(W)>.3*s||Math.abs(W)>5&&w<i?d(W,w):f(W):O.current===X.PULL&&(K(W,2*$e)?m(W,w):u(W)),b.current=0,O.current=X.NONE}else{const{target:w}=x;t&&w instanceof HTMLElement&&w===T.target&&(w.classList.contains(S(He))||w.classList.contains(S(dn)))&&P()}L(x)}),F=k(x=>{const T=M(x);if(T){const w=E.current===x.pointerId;if(x.buttons===0){w&&b.current!==0?A(x):L(T);return}const W=x.clientX-T.clientX,U=x.clientY-T.clientY;if(E.current===void 0){const J=le=>{_(x),E.current=x.pointerId,N.current=Date.now(),O.current=le};Math.abs(W)>Math.abs(U)&&Math.abs(W)>$e&&r(W)?e||(J(X.SWIPE),c()):Math.abs(U)>Math.abs(W)&&K(U,$e)&&(J(X.PULL),g())}else w&&(O.current===X.SWIPE?(b.current=W,l(W)):O.current===X.PULL&&(b.current=U,p(U)))}});zn(o,I,F,A)}function qn({preventDefaultWheelX:e,preventDefaultWheelY:t}){const o=n.useRef(null),r=k(s=>{const i=Math.abs(s.deltaX)>Math.abs(s.deltaY);(i&&e||!i&&t||s.ctrlKey)&&s.preventDefault()});return n.useCallback(s=>{var i;s?s.addEventListener("wheel",r,{passive:!1}):(i=o.current)===null||i===void 0||i.removeEventListener("wheel",r),o.current=s},[r])}function Gn(e,t,o,r,s,i,c,l,d){const f=n.useRef(0),v=n.useRef(0),h=n.useRef(void 0),g=n.useRef(void 0),p=n.useRef(0),m=n.useRef(void 0),u=n.useRef(0),{setTimeout:P,clearTimeout:b}=Le(),C=n.useCallback(()=>{h.current&&(b(h.current),h.current=void 0)},[b]),E=n.useCallback(()=>{g.current&&(b(g.current),g.current=void 0)},[b]),N=k(()=>{e!==V.SWIPE&&(f.current=0,u.current=0,C(),E())});n.useEffect(N,[e,N]);const O=k(_=>{g.current=void 0,f.current===_&&d(f.current)}),L=k(_=>{if(_.ctrlKey||Math.abs(_.deltaY)>Math.abs(_.deltaX))return;const M=I=>{p.current=I,b(m.current),m.current=I>0?P(()=>{p.current=0,m.current=void 0},300):void 0};if(e===V.NONE){if(Math.abs(_.deltaX)<=1.2*Math.abs(p.current)){M(_.deltaX);return}if(!o(-_.deltaX))return;if(v.current+=_.deltaX,C(),Math.abs(v.current)>30)v.current=0,M(0),u.current=Date.now(),i();else{const I=v.current;h.current=P(()=>{h.current=void 0,I===v.current&&(v.current=0)},s)}}else if(e===V.SWIPE){let I=f.current-_.deltaX;if(I=Math.min(Math.abs(I),r)*Math.sign(I),f.current=I,c(I),E(),Math.abs(I)>.2*r){M(_.deltaX),l(I,Date.now()-u.current);return}g.current=P(()=>O(I),2*s)}else M(_.deltaX)});n.useEffect(()=>t(Lt,L),[t,L])}const lt=Xe("container"),Kt=n.createContext(null),ge=Q("useController","ControllerContext",Kt);function Qn({children:e,...t}){var o;const{carousel:r,animation:s,controller:i,on:c,styles:l,render:d}=t,{closeOnPullUp:f,closeOnPullDown:v,preventDefaultWheelX:h,preventDefaultWheelY:g}=i,[p,m]=n.useState(),u=Ne(),P=Mn(),[b,C]=n.useState(V.NONE),E=n.useRef(0),N=n.useRef(0),O=n.useRef(1),{registerSensors:L,subscribeSensors:_}=Hn(),{subscribe:M,publish:I}=we(),K=_e(),A=_e(),F=_e(),{containerRef:x,setContainerRef:T,containerRect:w}=Xt(),W=je(qn({preventDefaultWheelX:h,preventDefaultWheelY:g}),T),U=n.useRef(null),J=je(U,void 0),{getOwnerDocument:le}=ze(),ye=Ye(),G=a=>(ye?-1:1)*(typeof a=="number"?a:1),y=k(()=>{var a;return(a=x.current)===null||a===void 0?void 0:a.focus()}),re=k(()=>t),qe=k(()=>u),ve=n.useCallback(a=>I(ee,a),[I]),Ee=n.useCallback(a=>I(te,a),[I]),oe=n.useCallback(()=>I(ie),[I]),Se=a=>!(r.finite&&(G(a)>0&&u.currentIndex===0||G(a)<0&&u.currentIndex===u.slides.length-1)),Ge=a=>{var R;E.current=a,(R=x.current)===null||R===void 0||R.style.setProperty(B("swipe_offset"),`${Math.round(a)}px`)},Ie=a=>{var R,j;N.current=a,O.current=(()=>{const ue=(()=>v&&a>0?a:f&&a<0?-a:0)();return Math.min(Math.max(xn(1-ue/60*(1-.5),2),.5),1)})(),(R=x.current)===null||R===void 0||R.style.setProperty(B("pull_offset"),`${Math.round(a)}px`),(j=x.current)===null||j===void 0||j.style.setProperty(B("pull_opacity"),`${O.current}`)},{prepareAnimation:qt}=st(U,(a,R,j)=>{if(U.current&&w)return{keyframes:[{transform:`translate(0, ${a.rect.y-R.y+j.y}px)`,opacity:a.opacity},{transform:"translate(0, 0)",opacity:1}],duration:a.duration,easing:s.easing.fade}}),Qe=(a,R)=>{if(f||v){Ie(a);let j=0;U.current&&(j=s.fade*(R?2:1),qt({rect:U.current.getBoundingClientRect(),opacity:O.current,duration:j})),F(()=>{Ie(0),C(V.NONE)},j),C(V.ANIMATION),R||oe()}},{prepareAnimation:Gt,isAnimationPlaying:Qt}=st(U,(a,R,j)=>{var z;if(U.current&&w&&(!((z=u.animation)===null||z===void 0)&&z.duration)){const H=Pe(r.spacing),ue=(H.percent?H.percent*w.width/100:H.pixel)||0;return{keyframes:[{transform:`translate(${G(u.globalIndex-a.index)*(w.width+ue)+a.rect.x-R.x+j.x}px, 0)`},{transform:"translate(0, 0)"}],duration:u.animation.duration,easing:u.animation.easing}}}),ae=k(a=>{var R,j;const z=a.offset||0,H=z?s.swipe:(R=s.navigation)!==null&&R!==void 0?R:s.swipe,ue=!z&&!Qt()?s.easing.navigation:s.easing.swipe;let{direction:xe}=a;const be=(j=a.count)!==null&&j!==void 0?j:1;let Oe=V.ANIMATION,Y=H*be;if(!xe){const de=w==null?void 0:w.width,tt=a.duration||0,Me=de?H/de*Math.abs(z):H;be!==0?(tt<Me?Y=Y/Me*Math.max(tt,Me/5):de&&(Y=H/de*(de-Math.abs(z))),xe=G(z)>0?ee:te):Y=H/2}let Re=0;xe===ee?Se(G(1))?Re=-be:(Oe=V.NONE,Y=H):xe===te&&(Se(G(-1))?Re=be:(Oe=V.NONE,Y=H)),Y=Math.round(Y),A(()=>{Ge(0),C(V.NONE)},Y),U.current&&Gt({rect:U.current.getBoundingClientRect(),index:u.globalIndex}),C(Oe),I(rt,{type:"swipe",increment:Re,duration:Y,easing:ue})});n.useEffect(()=>{var a,R;!((a=u.animation)===null||a===void 0)&&a.increment&&(!((R=u.animation)===null||R===void 0)&&R.duration)&&K(()=>P({type:"swipe",increment:0}),u.animation.duration)},[u.animation,P,K]);const Je=[_,Se,(w==null?void 0:w.width)||0,s.swipe,()=>C(V.SWIPE),a=>Ge(a),(a,R)=>ae({offset:a,duration:R,count:1}),a=>ae({offset:a,count:0})],Jt=[()=>{v&&C(V.PULL)},a=>Ie(a),a=>Qe(a),a=>Qe(a,!0)];Yn(i,...Je,f,v,...Jt,oe),Gn(b,...Je);const Ze=k(()=>{i.focus&&le().querySelector(`.${S(Be)} .${S(lt())}`)&&y()});n.useEffect(Ze,[Ze]);const et=k(()=>{var a;(a=c.view)===null||a===void 0||a.call(c,{index:u.currentIndex})});n.useEffect(et,[u.globalIndex,et]),n.useEffect(()=>It(M(ee,a=>ae({direction:ee,...a})),M(te,a=>ae({direction:te,...a})),M(rt,a=>P(a))),[M,ae,P]);const Zt=n.useMemo(()=>({prev:ve,next:Ee,close:oe,focus:y,slideRect:w?_n(w,r.padding):{width:0,height:0},containerRect:w||{width:0,height:0},subscribeSensors:_,containerRef:x,setCarouselRef:J,toolbarWidth:p,setToolbarWidth:m}),[ve,Ee,oe,y,_,w,x,J,p,m,r.padding]);return n.useImperativeHandle(i.ref,()=>({prev:ve,next:Ee,close:oe,focus:y,getLightboxProps:re,getLightboxState:qe}),[ve,Ee,oe,y,re,qe]),n.createElement("div",{ref:W,className:q(S(lt()),S(Et)),style:{...b===V.SWIPE?{[B("swipe_offset")]:`${Math.round(E.current)}px`}:null,...b===V.PULL?{[B("pull_offset")]:`${Math.round(N.current)}px`,[B("pull_opacity")]:`${O.current}`}:null,...i.touchAction!=="none"?{[B("controller_touch_action")]:i.touchAction}:null,...l.container},tabIndex:-1,...L},w&&n.createElement(Kt.Provider,{value:Zt},e,(o=d.controls)===null||o===void 0?void 0:o.call(d)))}const Jn=ne(gt,Qn);function Z(e){return fe(mt,e)}function at(e){return fe(He,e)}function Zn({slide:e,offset:t}){const o=n.useRef(null),{currentIndex:r,slides:s}=Ne(),{slideRect:i,focus:c}=ge(),{render:l,carousel:{imageFit:d,imageProps:f},on:{click:v},styles:{slide:h},labels:g}=he(),{getOwnerDocument:p}=ze(),m=t!==0;n.useEffect(()=>{var P;m&&(!((P=o.current)===null||P===void 0)&&P.contains(p().activeElement))&&c()},[m,c,p]);const u=()=>{var P,b,C,E;let N=(P=l.slide)===null||P===void 0?void 0:P.call(l,{slide:e,offset:t,rect:i});return!N&&Rt(e)&&(N=n.createElement(Xn,{slide:e,offset:t,render:l,rect:i,imageFit:d,imageProps:f,onClick:m?void 0:()=>v==null?void 0:v({index:r})})),N?n.createElement(n.Fragment,null,(b=l.slideHeader)===null||b===void 0?void 0:b.call(l,{slide:e}),((C=l.slideContainer)!==null&&C!==void 0?C:({children:O})=>O)({slide:e,children:N}),(E=l.slideFooter)===null||E===void 0?void 0:E.call(l,{slide:e})):null};return n.createElement("div",{ref:o,className:q(S(at()),!m&&S(at("current")),S(Et)),...Nn(m),style:h,role:"group","aria-roledescription":ce(g,"Slide"),"aria-label":En(g,s,r+t)},u())}function er(){const e=he().styles.slide;return n.createElement("div",{className:S(He),style:e})}function tr({carousel:e,labels:t}){const{slides:o,currentIndex:r,globalIndex:s}=Ne(),{setCarouselRef:i}=ge(),{autoPlaying:c,focusWithin:l}=kt(),d=Pe(e.spacing),f=Pe(e.padding),v=Cn(e,o,1),h=[];if(Mt(o))for(let g=r-v;g<=r+v;g+=1){const p=Tt(o,g),m=s-r+g,u=e.finite&&(g<0||g>o.length-1);h.push(u?{key:m}:{key:[`${m}`,Pn(p)].filter(Boolean).join("|"),offset:g-r,slide:p})}return n.createElement("div",{ref:i,className:q(S(Z()),h.length>0&&S(Z("with_slides"))),style:{[`${B(Z("slides_count"))}`]:h.length,[`${B(Z("spacing_px"))}`]:d.pixel||0,[`${B(Z("spacing_percent"))}`]:d.percent||0,[`${B(Z("padding_px"))}`]:f.pixel||0,[`${B(Z("padding_percent"))}`]:f.percent||0},role:"region","aria-live":c&&!l?"off":"polite","aria-roledescription":ce(t,"Carousel"),"aria-label":ce(t,"Photo gallery")},h.map(({key:g,slide:p,offset:m})=>p?n.createElement(Zn,{key:g,slide:p,offset:m}):n.createElement(er,{key:g})))}const nr=ne(mt,tr);function zt(){const{carousel:e}=he(),{slides:t,currentIndex:o}=Ne(),r=t.length===0||e.finite&&o===0,s=t.length===0||e.finite&&o===t.length-1;return{prevDisabled:r,nextDisabled:s}}function rr(e){var t;const o=Ye(),{publish:r}=we(),{animation:s}=he(),{prevDisabled:i,nextDisabled:c}=zt(),l=((t=s.navigation)!==null&&t!==void 0?t:s.swipe)/2,d=ct(()=>r(ee),l),f=ct(()=>r(te),l),v=k(h=>{switch(h.key){case hn:r(ie);break;case pn:(o?c:i)||(o?f:d)();break;case mn:(o?i:c)||(o?d:f)();break}});n.useEffect(()=>e(Nt,v),[e,v])}function ut({label:e,icon:t,renderIcon:o,action:r,onClick:s,disabled:i,style:c}){return n.createElement(Bt,{label:e,icon:t,renderIcon:o,className:S(`navigation_${r}`),disabled:i,onClick:s,style:c,...Bn(ge().focus,i)})}function or({render:{buttonPrev:e,buttonNext:t,iconPrev:o,iconNext:r},styles:s}){const{prev:i,next:c,subscribeSensors:l}=ge(),{prevDisabled:d,nextDisabled:f}=zt();return rr(l),n.createElement(n.Fragment,null,e?e():n.createElement(ut,{label:"Previous",action:ee,icon:$n,renderIcon:o,style:s.navigationPrev,disabled:d,onClick:i}),t?t():n.createElement(ut,{label:"Next",action:te,icon:Un,renderIcon:r,style:s.navigationNext,disabled:f,onClick:c}))}const sr=ne(on,or),dt=S(un),ir=S(xt);function cr(e){return"style"in e}function ft(e,t,o){const r=window.getComputedStyle(e),s=o?"padding-left":"padding-right",i=o?r.paddingLeft:r.paddingRight,c=e.style.getPropertyValue(s);return e.style.setProperty(s,`${(Ce(i)||0)+t}px`),()=>{c?e.style.setProperty(s,c):e.style.removeProperty(s)}}function lr({noScroll:{disabled:e},children:t}){const o=Ye(),{getOwnerDocument:r,getOwnerWindow:s}=ze();return n.useEffect(()=>{if(e)return()=>{};const i=[],c=s(),{body:l,documentElement:d}=r(),f=Math.round(c.innerWidth-d.clientWidth);if(f>0){i.push(ft(l,f,o));const v=l.getElementsByTagName("*");for(let h=0;h<v.length;h+=1){const g=v[h];cr(g)&&c.getComputedStyle(g).getPropertyValue("position")==="fixed"&&!g.classList.contains(ir)&&i.push(ft(g,f,o))}}return l.classList.add(dt),()=>{l.classList.remove(dt),i.forEach(v=>v())}},[o,e,r,s]),n.createElement(n.Fragment,null,t)}const ar=ne(sn,lr);function ht(e){return fe(Be,e)}function pt(e,t,o){const r=e.getAttribute(t);return e.setAttribute(t,o),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}function ur({children:e,animation:t,styles:o,className:r,on:s,portal:i,close:c,labels:l}){const[d,f]=n.useState(!1),[v,h]=n.useState(!1),g=n.useRef([]),p=n.useRef(null),{setTimeout:m}=Le(),{subscribe:u}=we(),b=Ht()?0:t.fade;n.useEffect(()=>(f(!0),()=>{f(!1),h(!1)}),[]);const C=k(()=>{g.current.forEach(L=>L()),g.current=[]}),E=k(()=>{var L;h(!1),C(),(L=s.exiting)===null||L===void 0||L.call(s),m(()=>{var _;(_=s.exited)===null||_===void 0||_.call(s),c()},b)});n.useEffect(()=>u(ie,E),[u,E]);const N=k(L=>{var _,M,I;Ln(L),h(!0),(_=s.entering)===null||_===void 0||_.call(s);const K=(I=(M=L.parentNode)===null||M===void 0?void 0:M.children)!==null&&I!==void 0?I:[];for(let A=0;A<K.length;A+=1){const F=K[A];["TEMPLATE","SCRIPT","STYLE"].indexOf(F.tagName)===-1&&F!==L&&(g.current.push(pt(F,"inert","")),g.current.push(pt(F,"aria-hidden","true")))}g.current.push(()=>{var A,F;(F=(A=p.current)===null||A===void 0?void 0:A.focus)===null||F===void 0||F.call(A)}),m(()=>{var A;(A=s.entered)===null||A===void 0||A.call(s)},b)}),O=n.useCallback(L=>{L?N(L):C()},[N,C]);return d?en.createPortal(n.createElement(Kn,{ref:O,className:q(r,S(ht()),S(xt),v&&S(ht("open"))),"aria-modal":!0,role:"dialog","aria-label":ce(l,"Lightbox"),style:{...t.fade!==Fe.animation.fade?{[B("fade_animation_duration")]:`${b}ms`}:null,...t.easing.fade!==Fe.animation.easing.fade?{[B("fade_animation_timing_function")]:t.easing.fade}:null,...o.root},onFocus:L=>{p.current||(p.current=L.relatedTarget)}},e),i.root||document.body):null}const dr=ne(Be,ur);function fr({children:e}){return n.createElement(n.Fragment,null,e)}const hr=ne(cn,fr);function pr(e){return fe(vt,e)}function mr({toolbar:{buttons:e},render:{buttonClose:t,iconClose:o},styles:r}){const{close:s,setToolbarWidth:i}=ge(),{setContainerRef:c,containerRect:l}=Xt();me(()=>{i(l==null?void 0:l.width)},[i,l==null?void 0:l.width]);const d=()=>t?t():n.createElement(Bt,{key:ie,label:"Close",icon:Wn,renderIcon:o,onClick:s});return n.createElement("div",{ref:c,style:r.toolbar,className:S(pr())},e==null?void 0:e.map(f=>f===ie?d():f))}const gr=ne(vt,mr);function Yt(e,t){var o;return n.createElement(e.module.component,{key:e.module.name,...t},(o=e.children)===null||o===void 0?void 0:o.map(r=>Yt(r,t)))}function vr(e,t={}){const{easing:o,...r}=e,{easing:s,...i}=t;return{easing:{...o,...s},...r,...i}}function Er({carousel:e,animation:t,render:o,toolbar:r,controller:s,noScroll:i,on:c,plugins:l,slides:d,index:f,...v}){const{animation:h,carousel:g,render:p,toolbar:m,controller:u,noScroll:P,on:b,slides:C,index:E,plugins:N,...O}=Fe,{config:L,augmentation:_}=yn([$(dr,[$(ar,[$(Jn,[$(nr),$(gr),$(sr)])])])],l||N),M=_({animation:vr(h,t),carousel:{...g,...e},render:{...p,...o},toolbar:{...m,...r},controller:{...u,...s},noScroll:{...P,...i},on:{...b,...c},...O,...v});return M.open?n.createElement(Rn,{...M},n.createElement(An,{slides:d||C,index:Ce(f||E)},n.createElement(Dn,null,n.createElement(On,null,n.createElement(Sn,null,Yt($(hr,L),M)))))):null}const br=()=>{const{user:e}=tn(),[t,o]=n.useState([]),[r,s]=n.useState(!0),[i,c]=n.useState(""),[l,d]=n.useState(!1),[f,v]=n.useState(0),[h,g]=n.useState(null),[p,m]=n.useState(!1),u=async()=>{if(!e)return;const{data:E,error:N}=await nt.from("profiles").select("*").eq("id",e.id).single();if(N)return console.error(N);g(E)},P=async()=>{if(e){s(!0),c("");try{const{data:E,error:N}=await nt.from("posts").select("*").eq("artist_id",e.id).order("created_at",{ascending:!1});if(N)throw N;o(E||[])}catch(E){c(E.message)}finally{s(!1)}}};n.useEffect(()=>{u(),P()},[e]);const b=t.filter(E=>E.image_url).map(E=>({src:E.image_url})),C=async()=>{await u()};return h?D.jsxs("div",{className:"p-6 flex-1 overflow-auto",children:[D.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[D.jsx("img",{src:h.avatar_url||"https://i.imgur.com/placeholder.png",alt:"Avatar",className:"w-24 h-24 rounded-full object-cover border"}),D.jsxs("div",{children:[D.jsx("h1",{className:"text-3xl font-bold",children:h.username||"Artista"}),D.jsx("p",{className:"text-gray-600",children:h.art_type}),D.jsx("p",{className:"text-gray-700",children:h.bio})]}),D.jsx("button",{className:"ml-auto bg-blue-500 text-white px-4 py-2 rounded-xl",onClick:()=>m(!0),children:"Modifica Profilo"})]}),D.jsx(nn,{onPostAdded:E=>o(N=>[E,...N])}),r&&D.jsx("p",{children:"Caricamento post..."}),i&&D.jsx("p",{className:"text-red-500",children:i}),!r&&t.length===0&&D.jsx("p",{children:"Nessun post disponibile."}),D.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mt-6",children:t.map((E,N)=>D.jsxs("div",{className:"bg-white p-4 rounded shadow-md flex flex-col",children:[E.image_url&&D.jsx("img",{src:E.image_url,alt:E.title,className:"w-full h-48 object-cover rounded mb-2 cursor-pointer",onClick:()=>{v(b.findIndex(O=>O.src===E.image_url)),d(!0)}}),D.jsx("h2",{className:"font-semibold text-lg",children:E.title}),D.jsx("p",{className:"text-gray-700 mt-1",children:E.description})]},E.id))}),D.jsx(Er,{open:l,index:f,close:()=>d(!1),slides:b}),p&&D.jsx(rn,{user:h,onClose:()=>m(!1),onProfileUpdated:C})]}):D.jsx("p",{children:"Caricamento profilo..."})};export{br as default};
