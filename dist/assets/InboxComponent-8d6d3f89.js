import{a as u,j as e,r as i}from"./index-7b5a1508.js";const h=u("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),m=({contacts:t,onSelect:l})=>!t||t.length===0?e.jsx("div",{className:"p-4 text-gray-500",children:"Nessun contatto disponibile"}):e.jsx("div",{className:"w-72 border-r border-gray-200 overflow-y-auto",children:e.jsx("ul",{children:t.map(n=>e.jsx("li",{children:e.jsxs("button",{onClick:()=>l(n),className:"w-full text-left p-3 hover:bg-gray-100 transition flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white",children:n.name[0]}),e.jsx("span",{children:n.name})]})},n.id))})}),p=({onSend:t})=>{const[l,n]=i.useState(""),[r,a]=i.useState(null),o=()=>{!l&&!r||(t(l,r),n(""),a(null))};return e.jsxs("div",{className:"p-2 border-t border-gray-300 flex flex-wrap items-center gap-2",children:[e.jsx("button",{onClick:()=>{var s;return(s=document.getElementById("fileInput"))==null?void 0:s.click()},className:"flex-shrink-0 bg-gray-200 p-2 rounded-xl hover:bg-gray-300 transition-colors flex items-center justify-center",children:e.jsx(h,{})}),e.jsx("input",{id:"fileInput",type:"file",accept:"image/*,video/*",className:"hidden",onChange:s=>s.target.files&&a(s.target.files[0])}),e.jsx("input",{type:"text",placeholder:"Scrivi un messaggio...",value:l,onChange:s=>n(s.target.value),onKeyDown:s=>s.key==="Enter"&&o(),className:"flex-1 min-w-[100px] p-2 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-300"}),e.jsx("button",{onClick:o,className:"flex-shrink-0 bg-blue-500 text-white px-4 py-2 rounded-xl hover:bg-blue-600 transition-colors",children:"Invia"})]})},f=({user:t,contact:l,goBack:n})=>{const[r,a]=i.useState([{id:1,sender:(l==null?void 0:l.name)||"Alice",text:"Ciao! Come va?"}]),o=(s,d)=>{if(!s&&!d)return;const c={id:Date.now(),sender:(t==null?void 0:t.id)||"Me",text:s,file:d};a(x=>[...x,c])};return e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsxs("div",{className:"flex items-center p-3 border-b bg-gray-50",children:[e.jsx("button",{onClick:n,className:"text-blue-500 mr-2",children:"â†"}),e.jsx("h3",{className:"font-semibold",children:l==null?void 0:l.name})]}),e.jsx("div",{className:"flex-1 p-2 overflow-y-auto space-y-2",children:r.map(s=>e.jsxs("div",{className:"p-2 rounded-lg bg-gray-100",children:[e.jsx("strong",{children:s.sender}),e.jsx("p",{children:s.text}),s.file&&e.jsx("p",{className:"text-xs text-gray-500",children:s.file.name})]},s.id))}),e.jsx(p,{onSend:o})]})},b=({user:t})=>{const[l]=i.useState([{id:"alice",name:"Alice"},{id:"bob",name:"Bob"},{id:"carla",name:"Carla"}]),[n,r]=i.useState(null);return e.jsx("div",{className:"flex h-full w-full rounded-2xl overflow-hidden bg-white shadow-xl",children:n?e.jsx(f,{user:t,contact:n,goBack:()=>r(null)}):e.jsx(m,{contacts:l,onSelect:r})})};export{b as default};
